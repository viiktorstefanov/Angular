<div class="container">
  <div class="profile">
    <form [formGroup]="form" (ngSubmit)="saveProfile()">
      <img src="assets/profile.png" alt="default user" />
      <h3>User Info:</h3>
      <div class="flex">
        <p>Username:</p>
        <p>
          <input *ngIf="showEditMode" type="text" formControlName="username" />
          <ng-container *ngIf="!showEditMode">
            {{ user.username }}
          </ng-container>
        </p>
      </div>
      <div class="flex">
        <p>Email:</p>
        <p>
          <input *ngIf="showEditMode" type="text" formControlName="email" />
          <ng-container *ngIf="!showEditMode">
            {{ user.email }}
          </ng-container>
        </p>
      </div>
      <div class="flex">
        <p>Phone:</p>
        <p>
          <input *ngIf="showEditMode" type="text" formControlName="tel" />
          <ng-container *ngIf="!showEditMode"> +{{ user.tel }} </ng-container>
        </p>
      </div>
      <ng-template #edit>
        <button
          (click)="toggleEditMode()"
          class="edit-button"
          type="submit"
        >Save</button>
      </ng-template>
      <ng-template #nonEdit>
        <button
          (click)="toggleEditMode()"
          class="edit-button"
          type="button"
        >Edit</button>
      </ng-template>
      <ng-container *ngTemplateOutlet="showEditMode ? edit : nonEdit"></ng-container>
    </form>
  </div>
</div>
